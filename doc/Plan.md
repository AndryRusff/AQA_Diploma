# План автоматизации тестирования веб сервиса продажи туров
## Перечень автоматизируемых сценариев:
### 1. Позитивные сценарии для форм "Оплата по карте" и "Кредит по данным карты"
**!** Для всех сценариев, если не указано иное, поля заполняются следующими данными:
Номер карты: 4444 4444 4444 4441
Месяц: 08
Год: 22
CVC/CVV: 123
Владелец: генерация через Faker

_**1.1.** Оплата по дебетовой карте со статусом "APPROVED":_
* Заполнить поля формы всеми валидными данными.
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..."  индикатором загрузки.
* В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.2.** Оплата по дебетовой карте со статусом "DECLINED":_
* В поле "Номер карты" ввести "4444 4444 4444 4442";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." индикатором загрузки.
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**1.3.** Выдача кредита по данным банковской карты со статусом "APPROVED":_
* Заполнить поля формы всеми валидными данными.
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.4.** Выдача кредита по данным банковской карты со статусом "DECLINED":_
* В поле "Номер карты" ввести "4444 4444 4444 4442";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".


### 2. Негативные сценарии для форм "Оплата по карте" и "Кредит по данным карты"

_**2.1.** Невалидный номер карты:_
* В поле "Номер карты" ввести "0000 0000 0000 0001";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки;
* В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.2.** Невалидное значение в поле "Месяц":_
* В поле "Месяц" ввести "99";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.3.** Невалидное значение в поле "Год", прошлое:_
* В поле "Год" ввести "20";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.4.** Невалидное значение в поле "Год", далёкое будущее:_
* В поле "Год" ввести "99";
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.5.** Невалидное значение в поле "Владелец":_
* Поле "Владелец" заполнить данными на кириллице;
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полем "Владелец" появляется сообщение «Неверный формат».

_**2.6.** Отправка пустой формы "Оплата по карте":_
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат";
* Под полем "Владелец" - "Поле обязательно для заполнения";
* Форма не отправлена.

_**2.7.** Заполнение полей формы "Оплата по карте" валидными значениями после отправки пустой формы:_
* Нажать на кнопку "Продолжить".
* Остальные поля заполнить валидными данными;
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась;
   * Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
   * Под полем "Владелец" - "Поле обязательно для заполнения».
* После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
   * Форма отправлена. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". 
   * Всплывающие окна с параметром «visible».
* Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.

_**2.8.** Заполнение всех полей формы невалидными значениями:_
* В поле "Номер карты" ввести "0000 0000 0000 0001";
* В поле "Месяц" ввести "80";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнить данными на кириллице;
* В поле "CVC/CVV" ввести "321";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".


### Перечень используемых инструментов:
* Java JDK 11 -  т.к. будет использоваться Java;
* IntelliJ IDEA - среда разработки с возможностью кастомизации, подсказками и возможностью запуска авто-тестов;
* Gradle - система автоматической сборки с управлением зависимостями, новее Ant и Maven;
* JUnit Jupiter - библиотека тестирования, может использовать более одного процесса тестирования за раз, чего нельзя сделать в JUnit4;
* Lombok - библиотека генерации кода;
* DBeaver - просмотр баз данных;
* Selenide - инструмент для тестирования Web-приложений;
* Faker - генератор данных для заполнения всевозможных форм;
* Allure - инструмент создания отчетов о выполнении авто-тестов;
* Git - инструмент для контроля версий;
* Github - сервис онлайн-хостинга репозиториев, для хранения автотестов и интеграций;	

### Перечень и описание возможных рисков при автоматизации:
* Отсутствие документации на приложение, как следствие возможен пропуск багов из за различной трактовки ожидаемого результата;
* Зависимость от нейминга локаторов, изменения в проде приведут к необходимости актуализации, а возможно и полного переписывания автотестов, также есть сложности при их первичном поиске;
* Сложность настройки и запуска системы SUT;
* Потенциальные конфликты двух СУБД ("MySQL" и "PostgreSQL"), необходимость подключении к каждой из них.

### Интервальная оценка с учётом рисков (в часах):
**Интервальная оценка составляет 72 часа.**
1. Планирование автоматизации тестирования: 16 часов;
2. Автоматизация тестирования: 36 часов;
3. Отчетные документы по итогам автоматизированного тестирования: 4 часа;
4. Отчетные документы по итогам автоматизации: 4 часа;
5. Непредвиденные сложности, согласования: 20% времени реализации проекта ~12 часов.

### План сдачи работы:
1. Планирование автоматизации тестирования: 06.03.2022
2. Автоматизация тестирования: до 16.03.2022
3. Отчетные документы по итогам автоматизированного тестирования: 20.03.2022
4. Отчетные документы по итогам автоматизации: до 21.03.2022